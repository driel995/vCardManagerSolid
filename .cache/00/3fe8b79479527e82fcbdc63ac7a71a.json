{"id":"W6ln","dependencies":[{"name":"C:\\Users\\39351\\Progetti\\SolidProject\\package.json","includedInParent":true,"mtime":1671127455006},{"name":"C:\\Users\\39351\\Progetti\\SolidProject\\node_modules\\jose\\dist\\browser\\package.json","includedInParent":true,"mtime":1671123289894},{"name":"../util/errors.js","loc":{"line":1,"column":33,"index":33},"parent":"C:\\Users\\39351\\Progetti\\SolidProject\\node_modules\\jose\\dist\\browser\\lib\\validate_crit.js","resolved":"C:\\Users\\39351\\Progetti\\SolidProject\\node_modules\\jose\\dist\\browser\\util\\errors.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=require(\"../util/errors.js\");function r(r,t,i,n,o){if(void 0!==o.crit&&void 0===n.crit)throw new r('\"crit\" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some(e=>\"string\"!=typeof e||0===e.length))throw new r('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');let a;a=void 0!==i?new Map([...Object.entries(i),...t.entries()]):t;for(const s of n.crit){if(!a.has(s))throw new e.JOSENotSupported(`Extension Header Parameter \"${s}\" is not recognized`);if(void 0===o[s])throw new r(`Extension Header Parameter \"${s}\" is missing`);if(a.get(s)&&void 0===n[s])throw new r(`Extension Header Parameter \"${s}\" MUST be integrity protected`)}return new Set(n.crit)}var t=r;exports.default=t;"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":0}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":13}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":20}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":35}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":43}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":56}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":57}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":64}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":68}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":76}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":89}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":1,"column":0},"generated":{"line":1,"column":91}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":1,"column":0},"generated":{"line":1,"column":95}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":2,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"validateCrit","original":{"line":2,"column":9},"generated":{"line":1,"column":135}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"Err","original":{"line":2,"column":22},"generated":{"line":1,"column":137}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"recognizedDefault","original":{"line":2,"column":27},"generated":{"line":1,"column":139}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"recognizedOption","original":{"line":2,"column":46},"generated":{"line":1,"column":141}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"protectedHeader","original":{"line":2,"column":64},"generated":{"line":1,"column":143}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"joseHeader","original":{"line":2,"column":81},"generated":{"line":1,"column":145}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":3,"column":4},"generated":{"line":1,"column":148}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"undefined","original":{"line":3,"column":28},"generated":{"line":1,"column":156}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"joseHeader","original":{"line":3,"column":8},"generated":{"line":1,"column":160}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"crit","original":{"line":3,"column":19},"generated":{"line":1,"column":162}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"undefined","original":{"line":3,"column":66},"generated":{"line":1,"column":173}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"protectedHeader","original":{"line":3,"column":41},"generated":{"line":1,"column":177}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"crit","original":{"line":3,"column":57},"generated":{"line":1,"column":179}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":4,"column":8},"generated":{"line":1,"column":184}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":4,"column":14},"generated":{"line":1,"column":190}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"Err","original":{"line":4,"column":18},"generated":{"line":1,"column":194}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":4,"column":22},"generated":{"line":1,"column":196}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":6,"column":4},"generated":{"line":1,"column":262}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"protectedHeader","original":{"line":6,"column":9},"generated":{"line":1,"column":266}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"undefined","original":{"line":6,"column":53},"generated":{"line":1,"column":274}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"protectedHeader","original":{"line":6,"column":28},"generated":{"line":1,"column":278}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"crit","original":{"line":6,"column":44},"generated":{"line":1,"column":280}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":7,"column":8},"generated":{"line":1,"column":285}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":7,"column":15},"generated":{"line":1,"column":292}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"Set","original":{"line":7,"column":19},"generated":{"line":1,"column":296}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":9,"column":4},"generated":{"line":1,"column":300}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"Array","original":{"line":9,"column":9},"generated":{"line":1,"column":304}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"isArray","original":{"line":9,"column":15},"generated":{"line":1,"column":310}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"protectedHeader","original":{"line":9,"column":23},"generated":{"line":1,"column":318}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"crit","original":{"line":9,"column":39},"generated":{"line":1,"column":320}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":10,"column":40},"generated":{"line":1,"column":327}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"protectedHeader","original":{"line":10,"column":8},"generated":{"line":1,"column":331}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"crit","original":{"line":10,"column":24},"generated":{"line":1,"column":333}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"length","original":{"line":10,"column":29},"generated":{"line":1,"column":338}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"protectedHeader","original":{"line":11,"column":8},"generated":{"line":1,"column":346}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"crit","original":{"line":11,"column":24},"generated":{"line":1,"column":348}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"some","original":{"line":11,"column":29},"generated":{"line":1,"column":353}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"input","original":{"line":11,"column":35},"generated":{"line":1,"column":358}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":11,"column":62},"generated":{"line":1,"column":361}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"input","original":{"line":11,"column":52},"generated":{"line":1,"column":378}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":11,"column":91},"generated":{"line":1,"column":381}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"input","original":{"line":11,"column":74},"generated":{"line":1,"column":385}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"length","original":{"line":11,"column":80},"generated":{"line":1,"column":387}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":12,"column":8},"generated":{"line":1,"column":395}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":12,"column":14},"generated":{"line":1,"column":401}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"Err","original":{"line":12,"column":18},"generated":{"line":1,"column":405}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":12,"column":22},"generated":{"line":1,"column":407}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":14,"column":4},"generated":{"line":1,"column":496}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"recognized","original":{"line":14,"column":8},"generated":{"line":1,"column":500}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"recognized","original":{"line":16,"column":8},"generated":{"line":1,"column":502}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"undefined","original":{"line":15,"column":29},"generated":{"line":1,"column":509}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"recognizedOption","original":{"line":15,"column":8},"generated":{"line":1,"column":513}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":16,"column":21},"generated":{"line":1,"column":515}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"Map","original":{"line":16,"column":25},"generated":{"line":1,"column":519}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":16,"column":29},"generated":{"line":1,"column":523}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"Object","original":{"line":16,"column":33},"generated":{"line":1,"column":527}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"entries","original":{"line":16,"column":40},"generated":{"line":1,"column":534}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"recognizedOption","original":{"line":16,"column":48},"generated":{"line":1,"column":542}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"recognizedDefault","original":{"line":16,"column":70},"generated":{"line":1,"column":548}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"entries","original":{"line":16,"column":88},"generated":{"line":1,"column":550}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"recognizedDefault","original":{"line":19,"column":21},"generated":{"line":1,"column":562}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":21,"column":4},"generated":{"line":1,"column":564}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":21,"column":9},"generated":{"line":1,"column":568}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"parameter","original":{"line":21,"column":15},"generated":{"line":1,"column":574}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"protectedHeader","original":{"line":21,"column":28},"generated":{"line":1,"column":579}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"crit","original":{"line":21,"column":44},"generated":{"line":1,"column":581}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":21,"column":50},"generated":{"line":1,"column":586}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":22,"column":8},"generated":{"line":1,"column":587}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"recognized","original":{"line":22,"column":13},"generated":{"line":1,"column":591}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"has","original":{"line":22,"column":24},"generated":{"line":1,"column":593}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"parameter","original":{"line":22,"column":28},"generated":{"line":1,"column":597}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":23,"column":12},"generated":{"line":1,"column":600}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":23,"column":18},"generated":{"line":1,"column":606}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"JOSENotSupported","original":{"line":23,"column":22},"generated":{"line":1,"column":610}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":23,"column":38},"generated":{"line":1,"column":612}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"parameter","original":{"line":23,"column":70},"generated":{"line":1,"column":660}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":25,"column":8},"generated":{"line":1,"column":684}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"undefined","original":{"line":25,"column":38},"generated":{"line":1,"column":692}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"joseHeader","original":{"line":25,"column":12},"generated":{"line":1,"column":696}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"parameter","original":{"line":25,"column":23},"generated":{"line":1,"column":698}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":26,"column":12},"generated":{"line":1,"column":701}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":26,"column":18},"generated":{"line":1,"column":707}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"Err","original":{"line":26,"column":22},"generated":{"line":1,"column":711}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"parameter","original":{"line":26,"column":57},"generated":{"line":1,"column":744}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":28,"column":13},"generated":{"line":1,"column":761}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"recognized","original":{"line":28,"column":17},"generated":{"line":1,"column":764}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"get","original":{"line":28,"column":28},"generated":{"line":1,"column":766}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"parameter","original":{"line":28,"column":32},"generated":{"line":1,"column":770}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"undefined","original":{"line":28,"column":77},"generated":{"line":1,"column":779}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"protectedHeader","original":{"line":28,"column":46},"generated":{"line":1,"column":783}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"parameter","original":{"line":28,"column":62},"generated":{"line":1,"column":785}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":29,"column":12},"generated":{"line":1,"column":788}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":29,"column":18},"generated":{"line":1,"column":794}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"Err","original":{"line":29,"column":22},"generated":{"line":1,"column":798}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"parameter","original":{"line":29,"column":57},"generated":{"line":1,"column":831}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":32,"column":4},"generated":{"line":1,"column":865}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":32,"column":11},"generated":{"line":1,"column":872}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"Set","original":{"line":32,"column":15},"generated":{"line":1,"column":876}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"protectedHeader","original":{"line":32,"column":19},"generated":{"line":1,"column":880}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"crit","original":{"line":32,"column":35},"generated":{"line":1,"column":882}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":33,"column":1},"generated":{"line":1,"column":888}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"validateCrit","original":{"line":34,"column":15},"generated":{"line":1,"column":892}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","name":"validateCrit","original":{"line":34,"column":15},"generated":{"line":1,"column":894}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":896}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":904}},{"source":"node_modules/jose/dist/browser/lib/validate_crit.js","original":{"line":34,"column":27},"generated":{"line":1,"column":912}}],"sources":{"node_modules/jose/dist/browser/lib/validate_crit.js":"import { JOSENotSupported } from '../util/errors.js';\r\nfunction validateCrit(Err, recognizedDefault, recognizedOption, protectedHeader, joseHeader) {\r\n    if (joseHeader.crit !== undefined && protectedHeader.crit === undefined) {\r\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be integrity protected');\r\n    }\r\n    if (!protectedHeader || protectedHeader.crit === undefined) {\r\n        return new Set();\r\n    }\r\n    if (!Array.isArray(protectedHeader.crit) ||\r\n        protectedHeader.crit.length === 0 ||\r\n        protectedHeader.crit.some((input) => typeof input !== 'string' || input.length === 0)) {\r\n        throw new Err('\"crit\" (Critical) Header Parameter MUST be an array of non-empty strings when present');\r\n    }\r\n    let recognized;\r\n    if (recognizedOption !== undefined) {\r\n        recognized = new Map([...Object.entries(recognizedOption), ...recognizedDefault.entries()]);\r\n    }\r\n    else {\r\n        recognized = recognizedDefault;\r\n    }\r\n    for (const parameter of protectedHeader.crit) {\r\n        if (!recognized.has(parameter)) {\r\n            throw new JOSENotSupported(`Extension Header Parameter \"${parameter}\" is not recognized`);\r\n        }\r\n        if (joseHeader[parameter] === undefined) {\r\n            throw new Err(`Extension Header Parameter \"${parameter}\" is missing`);\r\n        }\r\n        else if (recognized.get(parameter) && protectedHeader[parameter] === undefined) {\r\n            throw new Err(`Extension Header Parameter \"${parameter}\" MUST be integrity protected`);\r\n        }\r\n    }\r\n    return new Set(protectedHeader.crit);\r\n}\r\nexport default validateCrit;\r\n"},"lineCount":null}},"error":null,"hash":"e976afe2bc1b8227f76b669ab5f49861","cacheData":{"env":{}}}